# ResponseDto에 엔티티데이터를 일부 vs 전체

## 고민 배경
- ㅇㅇㅇ


## 김영한님 답변 일부
[인프런 답변 참고링크](https://www.inflearn.com/questions/1076390/comment/296483)
#### Q. Entity의 ResponseDto의 필드를 어떤식으로 구성하시는지 궁금합니다
```
이 부분은 성능 보다는 유지보수 관점에서 고민하는 것이 필요합니다.
API에 필요한 데이터를 모두 노출해두면 이후에 클라이언트가 필요한 기능을 찾아서 사용만 하면 되기 때문에 서버에서 기능을 변경할 일이 줄어듭니다.
반면에 이 방법은 서버에서 데이터를 변경하는 경우, 너무 많은 데이터가 노출되어 있기 때문에 서버쪽 변경을 어렵게 할 수 있습니다.

예를 들어 API에 노출되지 않은 데이터는 서버에서 자유롭게 변경할 수 있지만,
이미 노출한 데이터는 클라이언트에서 정말 사용하는지 일일이 확인한 다음에 변경해야 하기 때문에 서버쪽 데이터 변경을 어렵게 할 수 있습니다.

결국 모든 데이터를 오픈하는 것과 일부 데이터를 오픈하는 것은 트레이드 오프가 있습니다.
이런 트레이드 오프를 고려할 때 다음과 같은 관점을 보시면 도움이 되실거에요.
이런 고민은 크게 2가지 관점으로 보는 것이 주요합니다.

1. API를 호출하는 웹 프론트엔드 코드와 서버 코드를 함께 변경할 수 있다. (한팀이다.)
2. API를 호출하는 클라이언트와 서버 코드를 함께 변경할 수 없다. (다른팀이다.)

웹 프론트엔드와 서버 코드를 함께 유지관리하는 경우 엔티티의 데이터들을 전달해두면,
이후에 화면에 기능이 추가될 때 웹 프론트엔드 코드만 고치면 되기 때문에 유연한 변경이 가능합니다.
물론 서버쪽 코드를 변경하는 경우 웹 프론트엔드 개발자가 이 데이터를 정말 사용하는지 확인하는 과정도 같은 팀이기 때문에 상대적으로 쉬울 수 있습니다.
API를 호출하는 클라이언트가 다른 팀이거나 다른 회사라면, 한번 노출한 API의 데이터는 거의 변경이 불가능합니다.
따라서 꼭 필요한 데이터만 노출하는 것이 좋습니다.
```
#### Q. 전체 조회 API에 모든 데이터 포함 vs 둘을 분리
```
추가로 전체 조회에 모든 데이터를 추가해서 단건 조회를 거의 사용하지 않는 방법과
전체조회 API와 단건 조회 API를 분리하는 것은 트레이드 오프가 있습니다.
이것에 대한 선택은 비즈니스에 따라 달라집니다.

리스트 화면과 상세 화면이 둘다 매우 단순하다면 전체 조회 API 하나에 구성하는게 더 나은 방법이 될 가능성이 있습니다.
이 경우 거의 로컬에서 화면 변경이 어루어 진다면 사용자가 느끼는 속도가 매우 빠르겠지요?
하지만 리스트 화면은 데이터가 몇게 없는데 상세 화면에 데이터가 너무 많다면,
이것은 둘을 분리하는 것이 더 나은 방법이 될 가능성이 있습니다.
리스트 화면 자체를 불러오는데 속도가 오래 걸리고 네트워크를 많이 사용하기 때문이지요.
```